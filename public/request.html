<!DOCTYPE html>
<html lang="en" class="bg-slate-950 text-slate-100">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Request Help Now — BrokerChain</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet"/>
  <style>
    body { font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif; }
    .btn-primary { @apply bg-indigo-500 hover:bg-indigo-400 text-white font-semibold px-4 py-2 rounded; }
    .btn-secondary { @apply bg-slate-800 hover:bg-slate-700 text-slate-100 font-medium px-4 py-2 rounded border border-slate-600; }
    .card { @apply bg-slate-900 border border-slate-800 rounded-lg p-4 mb-4 shadow-lg shadow-black/40; }
    .label { @apply block text-slate-300 text-sm font-medium mb-1; }
    .input { @apply w-full bg-slate-950 border border-slate-700 rounded px-3 py-2 text-slate-100 text-sm; }
    .textarea { @apply w-full bg-slate-950 border border-slate-700 rounded px-3 py-2 text-slate-100 text-sm h-32; }
    .select { @apply w-full bg-slate-950 border border-slate-700 rounded px-3 py-2 text-slate-100 text-sm; }
    code { @apply text-indigo-300 text-[11px] bg-slate-800/50 px-1 py-0.5 rounded; }
  </style>
</head>
<body class="bg-slate-950 text-slate-100">
<header class="border-b border-slate-800 bg-slate-950/70 backdrop-blur sticky top-0 z-50">
  <div class="max-w-6xl mx-auto px-4 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
    <div class="text-xl font-semibold text-white">BrokerChain Dispatch Desk</div>
    <nav class="flex flex-wrap gap-4 text-sm text-slate-300">
      <a class="hover:text-white" href="/index.html">Home</a>
      <a class="hover:text-white" href="/request.html">Request</a>
      <a class="hover:text-white" href="/suppliers.html">Suppliers</a>
      <a class="hover:text-white" href="/gov-fastlane.html">Gov Fastlane</a>
      <a class="hover:text-white" href="/dashboard.html">Dashboard</a>
    </nav>
  </div>
</header>
<main class="max-w-6xl mx-auto px-4 py-8">

<h1 class="text-2xl font-semibold text-white mb-6">Tell us what broke</h1>
<p class="text-slate-300 text-sm leading-relaxed mb-6">
  We answer in minutes. 24/7 intake.
</p>

<form id="reqForm" class="grid md:grid-cols-2 gap-6 card">
  <div class="md:col-span-1">
    <label class="label">Your ZIP / location*</label>
    <input class="input" name="zip" placeholder="ZIP / city">
  </div>

  <div class="md:col-span-1">
    <label class="label">How urgent is this?*</label>
    <select class="select" name="urgency">
      <option value="1-2h">1-2h</option>
      <option value="today" selected>today</option>
      <option value="this_week">this week</option>
    </select>
  </div>

  <div class="md:col-span-2">
    <label class="label">What happened?*</label>
    <textarea class="textarea" name="need" placeholder="Roof leak after hail / Basement flooded / Need pumps under $15k for municipal site / AC dead at 2am"></textarea>
  </div>

  <div class="md:col-span-1">
    <label class="label">Who are you?*</label>
    <select class="select" name="buyer_type">
      <option value="homeowner">Home / Residential</option>
      <option value="business" selected>Business / Facility</option>
      <option value="public">City / State / Federal / Prime Contractor</option>
    </select>
  </div>

  <div class="md:col-span-1">
    <label class="label">Best phone*</label>
    <input class="input" name="phone" placeholder="+1 ...">
  </div>

  <div class="md:col-span-2">
    <label class="label">Best email*</label>
    <input class="input" type="email" name="email" placeholder="you@example.com">
  </div>

  <div class="md:col-span-2">
    <button class="btn-primary w-full md:w-auto" type="submit">SEND THIS NOW</button>
    <div id="reqMsg" class="text-xs text-slate-400 mt-2"></div>
  </div>
</form>

<p class="text-[11px] text-slate-500 mt-8 max-w-xl">
  We'll connect you to a provider / supplier that can move now.
  We may send DocuSign + payment link so nobody wastes time.
</p>

<script>
const form = document.getElementById('reqForm');
const msg = document.getElementById('reqMsg');

form.addEventListener('submit', async (e)=>{
  e.preventDefault();
  msg.textContent = "Sending...";
  const payload = {
    zip: form.zip.value,
    need: form.need.value,
    urgency: form.urgency.value,
    buyer_type: form.buyer_type.value,
    email: form.email.value,
    phone: form.phone.value
  };
  const r = await fetch('/api/request', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify(payload)
  });
  const data = await r.json();
  if(data.ok){
    msg.textContent = "Received. Stand by for dispatch.";
  } else {
    msg.textContent = "Error: "+(data.error||"unknown");
  }
});
</script>

</main>
<footer class="border-t border-slate-800 text-slate-400 text-xs py-8 px-4 max-w-6xl mx-auto">
  <div class="grid md:grid-cols-3 gap-6">
    <div>
      <div class="text-slate-200 font-semibold text-sm mb-2">Services</div>
      <div class="space-y-1">
        <div><a class="hover:text-white" href="/emergency-dispatch.html">Emergency Dispatch Exchange (EMERG-)</a></div>
        <div><a class="hover:text-white" href="/gov-fastlane.html">Federal Micro‑Purchase Fastlane (FED-)</a></div>
        <div><a class="hover:text-white" href="/suppliers.html">Suppliers / Contractors</a></div>
        <div><a class="hover:text-white" href="/marketplace.html">Lead Marketplace</a></div>
      </div>
    </div>
    <div>
      <div class="text-slate-200 font-semibold text-sm mb-2">Company</div>
      <div class="space-y-1">
        <div><a class="hover:text-white" href="/about.html">About</a></div>
        <div><a class="hover:text-white" href="/contact.html">Contact</a></div>
        <div><a class="hover:text-white" href="/terms.html">Terms</a></div>
      </div>
    </div>
    <div class="text-slate-400 text-xs">
      <div>24/7 intake. We move first so downtime doesn’t win.</div>
      <div class="mt-2 text-[10px] text-slate-500">
        U.S. dispatch • Stripe • Mercury • DocuSign • SAM.gov vendor ready • micro‑purchase under $15k.
      </div>
    </div>
  </div>
</footer>
</body>
</html>
